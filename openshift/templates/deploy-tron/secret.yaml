kind: Template
apiVersion: v1
objects:
  - apiVersion: v1
    stringData:
      APP_ID: ${APP_ID}
      privatekey: ${PRIVATE_KEY}
      WEBHOOK_SECRET: ${WEBHOOK_SECRET}
    kind: Secret
    type: Opaque
    metadata:
      name: ${NAME}-${SUFFIX}
parameters:
  - name: APP_ID
    description: the github app app id. This can be found when you create a github app
    displayName: App ID
    required: true
  - name: PRIVATE_KEY
    description: The private key generated by your github app. This is a pem file. Use the contents of the file to populate this paramater
    displayName: Private Key
    required: true
  - name: WEBHOOK_SECRET
    description: Optional. This is a webhook secret if configured on your github app
    displayName: Webhook Secret
    required: false
  - name: NAME
    description: this is the app name
    value: deploy-tron
    required: true
  - name: SUFFIX
    description: a suffix to further seperate out concurrecnt builds/deploys of this infra code
    value: prod
    required: true
